import pytest

from labgrid import Environment
from labgrid.consoleloggingreporter import ConsoleLoggingReporter
from labgrid.protocol import CommandProtocol
from labgrid.driver.exception import ExecutionError

from autonx import NSHStrategy, SimConsoleDriver

import os
import re


simple_pass = r".*(pass|PASS)"
ltp_testdata = [
    ("ltp_behavior_timers_1_1", simple_pass),
    ("ltp_behavior_timers_2_1", simple_pass),
    ("ltp_clock_settime_speculative_4_3", simple_pass),
    ("ltp_clock_settime_speculative_4_4", simple_pass),
    ("ltp_definitions_errno_h_3_2", simple_pass),
    ("ltp_definitions_errno_h_4_1", simple_pass),
    ("ltp_definitions_mqueue_h_1_1", simple_pass),
    ("ltp_definitions_sched_h_10_1", simple_pass),
    ("ltp_definitions_signal_h_26_1", simple_pass),
    ("ltp_functional_mqueues_send_rev_2", simple_pass),
    ("ltp_functional_semaphores_sem_conpro", simple_pass),
    ("ltp_functional_semaphores_sem_philosopher", simple_pass),
    ("ltp_functional_semaphores_sem_readerwriter", simple_pass),
    ("ltp_functional_semaphores_sem_sleepingbarber", simple_pass),
    ("ltp_interfaces_aio_suspend_5_1", simple_pass),
    ("ltp_interfaces_asctime_1_1", simple_pass),
    ("ltp_interfaces_clock_1_1", simple_pass),
    ("ltp_interfaces_clock_2_1", simple_pass),
    ("ltp_interfaces_clock_getres_1_1", simple_pass),
    ("ltp_interfaces_clock_getres_3_1", simple_pass),
    ("ltp_interfaces_clock_getres_5_1", simple_pass),
    ("ltp_interfaces_clock_getres_6_1", simple_pass),
    ("ltp_interfaces_clock_getres_6_2", simple_pass),
    ("ltp_interfaces_clock_gettime_1_1", simple_pass),
    ("ltp_interfaces_clock_gettime_1_2", simple_pass),
    ("ltp_interfaces_clock_gettime_2_1", simple_pass),
    ("ltp_interfaces_clock_gettime_3_1", simple_pass),
    ("ltp_interfaces_clock_gettime_7_1", simple_pass),
    ("ltp_interfaces_clock_gettime_8_1", simple_pass),
    ("ltp_interfaces_clock_gettime_8_2", simple_pass),
    ("ltp_interfaces_clock_nanosleep_11_1", simple_pass),
    ("ltp_interfaces_clock_nanosleep_1_1", simple_pass),
    ("ltp_interfaces_clock_nanosleep_13_1", simple_pass),
    ("ltp_interfaces_clock_nanosleep_2_1", simple_pass),
    ("ltp_interfaces_clock_nanosleep_3_1", simple_pass),
    ("ltp_interfaces_clock_settime_1_1", simple_pass),
    ("ltp_interfaces_clock_settime_17_1", simple_pass),
    ("ltp_interfaces_clock_settime_17_2", simple_pass),
    ("ltp_interfaces_clock_settime_19_1", simple_pass),
    ("ltp_interfaces_clock_settime_20_1", simple_pass),
    ("ltp_interfaces_clock_settime_4_1", simple_pass),
    ("ltp_interfaces_clock_settime_4_2", simple_pass),
    ("ltp_interfaces_clock_settime_5_1", simple_pass),
    ("ltp_interfaces_clock_settime_5_2", simple_pass),
    ("ltp_interfaces_clock_settime_6_1", simple_pass),
    ("ltp_interfaces_ctime_1_1", simple_pass),
    ("ltp_interfaces_difftime_1_1", simple_pass),
    ("ltp_interfaces_fsync_4_1", simple_pass),
    ("ltp_interfaces_fsync_5_1", simple_pass),
    ("ltp_interfaces_fsync_7_1", simple_pass),
    ("ltp_interfaces_gmtime_1_1", simple_pass),
    ("ltp_interfaces_gmtime_2_1", simple_pass),
    ("ltp_interfaces_kill_2_1", simple_pass),
    ("ltp_interfaces_kill_2_2", simple_pass),
    ("ltp_interfaces_kill_3_1", simple_pass),
    ("ltp_interfaces_localtime_1_1", simple_pass),
    ("ltp_interfaces_mktime_1_1", simple_pass),
    ("ltp_interfaces_mlock_10_1", simple_pass),
    ("ltp_interfaces_mlock_5_1", simple_pass),
    ("ltp_interfaces_mlock_8_1", simple_pass),
    ("ltp_interfaces_mlockall_13_1", simple_pass),
    ("ltp_interfaces_mlockall_13_2", simple_pass),
    ("ltp_interfaces_mlockall_3_6", simple_pass),
    ("ltp_interfaces_mlockall_3_7", simple_pass),
    ("ltp_interfaces_mlockall_8_1", simple_pass),
    ("ltp_interfaces_mmap_10_1", simple_pass),
    ("ltp_interfaces_mmap_11_1", simple_pass),
    ("ltp_interfaces_mmap_1_1", simple_pass),
    ("ltp_interfaces_mmap_12_1", simple_pass),
    ("ltp_interfaces_mmap_1_2", simple_pass),
    ("ltp_interfaces_mmap_14_1", simple_pass),
    ("ltp_interfaces_mmap_19_1", simple_pass),
    ("ltp_interfaces_mmap_21_1", simple_pass),
    ("ltp_interfaces_mmap_23_1", simple_pass),
    ("ltp_interfaces_mmap_24_1", simple_pass),
    ("ltp_interfaces_mmap_24_2", simple_pass),
    ("ltp_interfaces_mmap_27_1", simple_pass),
    ("ltp_interfaces_mmap_31_1", simple_pass),
    ("ltp_interfaces_mmap_3_1", simple_pass),
    ("ltp_interfaces_mmap_32_1", simple_pass),
    ("ltp_interfaces_mmap_5_1", simple_pass),
    ("ltp_interfaces_mmap_6_4", simple_pass),
    ("ltp_interfaces_mmap_6_5", simple_pass),
    ("ltp_interfaces_mmap_6_6", simple_pass),
    ("ltp_interfaces_mmap_7_1", simple_pass),
    ("ltp_interfaces_mmap_7_2", simple_pass),
    ("ltp_interfaces_mmap_9_1", simple_pass),
    ("ltp_interfaces_mq_close_1_1", simple_pass),
    ("ltp_interfaces_mq_close_3_1", simple_pass),
    ("ltp_interfaces_mq_close_3_2", simple_pass),
    ("ltp_interfaces_mq_close_3_3", simple_pass),
    ("ltp_interfaces_mq_close_4_1", simple_pass),
    ("ltp_interfaces_mq_getattr_2_1", simple_pass),
    ("ltp_interfaces_mq_getattr_2_2", simple_pass),
    ("ltp_interfaces_mq_getattr_3_1", simple_pass),
    ("ltp_interfaces_mq_getattr_4_1", simple_pass),
    ("ltp_interfaces_mq_notify_1_1", simple_pass),
    ("ltp_interfaces_mq_notify_3_1", simple_pass),
    ("ltp_interfaces_mq_notify_4_1", simple_pass),
    ("ltp_interfaces_mq_notify_8_1", simple_pass),
    ("ltp_interfaces_mq_open_11_1", simple_pass),
    ("ltp_interfaces_mq_open_1_1", simple_pass),
    ("ltp_interfaces_mq_open_12_1", simple_pass),
    ("ltp_interfaces_mq_open_13_1", simple_pass),
    ("ltp_interfaces_mq_open_15_1", simple_pass),
    ("ltp_interfaces_mq_open_18_1", simple_pass),
    ("ltp_interfaces_mq_open_19_1", simple_pass),
    ("ltp_interfaces_mq_open_20_1", simple_pass),
    ("ltp_interfaces_mq_open_21_1", simple_pass),
    ("ltp_interfaces_mq_open_23_1", simple_pass),
    ("ltp_interfaces_mq_open_25_2", simple_pass),
    ("ltp_interfaces_mq_open_27_1", simple_pass),
    ("ltp_interfaces_mq_open_27_2", simple_pass),
    ("ltp_interfaces_mq_open_29_1", simple_pass),
    ("ltp_interfaces_mq_open_3_1", simple_pass),
    ("ltp_interfaces_mq_open_7_1", simple_pass),
    ("ltp_interfaces_mq_open_7_3", simple_pass),
    ("ltp_interfaces_mq_open_8_1", simple_pass),
    ("ltp_interfaces_mq_open_9_1", simple_pass),
    ("ltp_interfaces_mq_receive_10_1", simple_pass),
    ("ltp_interfaces_mq_receive_11_1", simple_pass),
    ("ltp_interfaces_mq_receive_11_2", simple_pass),
    ("ltp_interfaces_mq_receive_1_1", simple_pass),
    ("ltp_interfaces_mq_receive_12_1", simple_pass),
    ("ltp_interfaces_mq_receive_2_1", simple_pass),
    ("ltp_interfaces_mq_receive_7_1", simple_pass),
    ("ltp_interfaces_mq_receive_8_1", simple_pass),
    ("ltp_interfaces_mq_send_10_1", simple_pass),
    ("ltp_interfaces_mq_send_11_1", simple_pass),
    ("ltp_interfaces_mq_send_11_2", simple_pass),
    ("ltp_interfaces_mq_send_1_1", simple_pass),
    ("ltp_interfaces_mq_send_13_1", simple_pass),
    ("ltp_interfaces_mq_send_14_1", simple_pass),
    ("ltp_interfaces_mq_send_2_1", simple_pass),
    ("ltp_interfaces_mq_send_3_1", simple_pass),
    ("ltp_interfaces_mq_send_3_2", simple_pass),
    ("ltp_interfaces_mq_send_4_1", simple_pass),
    ("ltp_interfaces_mq_send_4_2", simple_pass),
    ("ltp_interfaces_mq_send_4_3", simple_pass),
    ("ltp_interfaces_mq_send_7_1", simple_pass),
    ("ltp_interfaces_mq_send_8_1", simple_pass),
    ("ltp_interfaces_mq_send_9_1", simple_pass),
    ("ltp_interfaces_mq_setattr_1_1", simple_pass),
    ("ltp_interfaces_mq_setattr_1_2", simple_pass),
    ("ltp_interfaces_mq_setattr_2_1", simple_pass),
    ("ltp_interfaces_mq_setattr_5_1", simple_pass),
    ("ltp_interfaces_mq_timedreceive_10_1", simple_pass),
    ("ltp_interfaces_mq_timedreceive_10_2", simple_pass),
    ("ltp_interfaces_mq_timedreceive_11_1", simple_pass),
    ("ltp_interfaces_mq_timedreceive_1_1", simple_pass),
    ("ltp_interfaces_mq_timedreceive_13_1", simple_pass),
    ("ltp_interfaces_mq_timedreceive_14_1", simple_pass),
    ("ltp_interfaces_mq_timedreceive_15_1", simple_pass),
    ("ltp_interfaces_mq_timedreceive_17_1", simple_pass),
    ("ltp_interfaces_mq_timedreceive_17_2", simple_pass),
    ("ltp_interfaces_mq_timedreceive_17_3", simple_pass),
    ("ltp_interfaces_mq_timedreceive_2_1", simple_pass),
    ("ltp_interfaces_mq_timedreceive_7_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_10_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_11_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_11_2", simple_pass),
    ("ltp_interfaces_mq_timedsend_1_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_12_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_13_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_14_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_15_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_18_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_19_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_20_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_2_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_3_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_3_2", simple_pass),
    ("ltp_interfaces_mq_timedsend_4_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_4_2", simple_pass),
    ("ltp_interfaces_mq_timedsend_4_3", simple_pass),
    ("ltp_interfaces_mq_timedsend_7_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_8_1", simple_pass),
    ("ltp_interfaces_mq_timedsend_9_1", simple_pass),
    ("ltp_interfaces_mq_unlink_1_1", simple_pass),
    ("ltp_interfaces_mq_unlink_7_1", simple_pass),
    ("ltp_interfaces_munlock_10_1", simple_pass),
    ("ltp_interfaces_munlock_11_1", simple_pass),
    ("ltp_interfaces_munlock_7_1", simple_pass),
    ("ltp_interfaces_munlockall_5_1", simple_pass),
    ("ltp_interfaces_munmap_2_1", simple_pass),
    ("ltp_interfaces_munmap_3_1", simple_pass),
    ("ltp_interfaces_munmap_4_1", simple_pass),
    ("ltp_interfaces_munmap_8_1", simple_pass),
    ("ltp_interfaces_munmap_9_1", simple_pass),
    ("ltp_interfaces_nanosleep_10000_1", simple_pass),
    ("ltp_interfaces_nanosleep_1_1", simple_pass),
    ("ltp_interfaces_nanosleep_2_1", simple_pass),
    ("ltp_interfaces_nanosleep_5_1", simple_pass),
    ("ltp_interfaces_nanosleep_6_1", simple_pass),
    ("ltp_interfaces_pthread_attr_destroy_1_1", simple_pass),
    ("ltp_interfaces_pthread_attr_destroy_2_1", simple_pass),
    ("ltp_interfaces_pthread_attr_destroy_3_1", simple_pass),
    ("ltp_interfaces_pthread_attr_getdetachstate_1_1", simple_pass),
    ("ltp_interfaces_pthread_attr_getdetachstate_1_2", simple_pass),
    ("ltp_interfaces_pthread_attr_getinheritsched_1_1", simple_pass),
    ("ltp_interfaces_pthread_attr_getschedparam_1_1", simple_pass),
    ("ltp_interfaces_pthread_attr_getschedpolicy_2_1", simple_pass),
    ("ltp_interfaces_pthread_attr_getstack_1_1", simple_pass),
    ("ltp_interfaces_pthread_attr_getstacksize_1_1", simple_pass),
    ("ltp_interfaces_pthread_attr_init_1_1", simple_pass),
    ("ltp_interfaces_pthread_attr_init_2_1", simple_pass),
    ("ltp_interfaces_pthread_attr_init_3_1", simple_pass),
    ("ltp_interfaces_pthread_attr_init_4_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setdetachstate_1_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setdetachstate_1_2", simple_pass),
    ("ltp_interfaces_pthread_attr_setdetachstate_2_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setdetachstate_4_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setinheritsched_1_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setinheritsched_2_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setinheritsched_2_2", simple_pass),
    ("ltp_interfaces_pthread_attr_setinheritsched_2_3", simple_pass),
    ("ltp_interfaces_pthread_attr_setinheritsched_2_4", simple_pass),
    ("ltp_interfaces_pthread_attr_setinheritsched_4_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setschedparam_1_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setschedparam_1_2", simple_pass),
    ("ltp_interfaces_pthread_attr_setschedparam_1_3", simple_pass),
    ("ltp_interfaces_pthread_attr_setschedparam_1_4", simple_pass),
    ("ltp_interfaces_pthread_attr_setschedpolicy_1_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setschedpolicy_1_2", simple_pass),
    ("ltp_interfaces_pthread_attr_setschedpolicy_1_3", simple_pass),
    ("ltp_interfaces_pthread_attr_setschedpolicy_4_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setschedpolicy_5_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setstack_1_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setstack_4_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setstack_6_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setstack_7_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setstacksize_1_1", simple_pass),
    ("ltp_interfaces_pthread_attr_setstacksize_4_1", simple_pass),
    ("ltp_interfaces_pthread_barrierattr_destroy_1_1", simple_pass),
    ("ltp_interfaces_pthread_barrierattr_getpshared_1_1", simple_pass),
    ("ltp_interfaces_pthread_barrierattr_init_1_1", simple_pass),
    ("ltp_interfaces_pthread_barrierattr_init_2_1", simple_pass),
    ("ltp_interfaces_pthread_barrierattr_setpshared_1_1", simple_pass),
    ("ltp_interfaces_pthread_barrierattr_setpshared_2_1", simple_pass),
    ("ltp_interfaces_pthread_barrier_destroy_1_1", simple_pass),
    ("ltp_interfaces_pthread_barrier_destroy_2_1", simple_pass),
    ("ltp_interfaces_pthread_barrier_init_1_1", simple_pass),
    ("ltp_interfaces_pthread_barrier_init_3_1", simple_pass),
    ("ltp_interfaces_pthread_barrier_init_4_1", simple_pass),
    ("ltp_interfaces_pthread_barrier_wait_1_1", simple_pass),
    ("ltp_interfaces_pthread_barrier_wait_2_1", simple_pass),
    ("ltp_interfaces_pthread_barrier_wait_3_1", simple_pass),
    ("ltp_interfaces_pthread_barrier_wait_3_2", simple_pass),
    ("ltp_interfaces_pthread_cancel_1_1", simple_pass),
    ("ltp_interfaces_pthread_cancel_1_2", simple_pass),
    ("ltp_interfaces_pthread_cancel_1_3", simple_pass),
    ("ltp_interfaces_pthread_cancel_2_1", simple_pass),
    ("ltp_interfaces_pthread_cancel_2_2", simple_pass),
    ("ltp_interfaces_pthread_cancel_2_3", simple_pass),
    ("ltp_interfaces_pthread_cancel_3_1", simple_pass),
    ("ltp_interfaces_pthread_cancel_4_1", simple_pass),
    ("ltp_interfaces_pthread_cancel_5_1", simple_pass),
    ("ltp_interfaces_pthread_cleanup_pop_1_1", simple_pass),
    ("ltp_interfaces_pthread_cleanup_pop_1_2", simple_pass),
    ("ltp_interfaces_pthread_cleanup_pop_1_3", simple_pass),
    ("ltp_interfaces_pthread_cleanup_push_1_1", simple_pass),
    ("ltp_interfaces_pthread_cleanup_push_1_2", simple_pass),
    ("ltp_interfaces_pthread_cleanup_push_1_3", simple_pass),
    ("ltp_interfaces_pthread_condattr_destroy_1_1", simple_pass),
    ("ltp_interfaces_pthread_condattr_destroy_2_1", simple_pass),
    ("ltp_interfaces_pthread_condattr_destroy_3_1", simple_pass),
    ("ltp_interfaces_pthread_condattr_destroy_4_1", simple_pass),
    ("ltp_interfaces_pthread_condattr_getclock_1_1", simple_pass),
    ("ltp_interfaces_pthread_condattr_getclock_1_2", simple_pass),
    ("ltp_interfaces_pthread_condattr_init_3_1", simple_pass),
    ("ltp_interfaces_pthread_condattr_setclock_1_1", simple_pass),
    ("ltp_interfaces_pthread_condattr_setclock_1_2", simple_pass),
    ("ltp_interfaces_pthread_condattr_setclock_2_1", simple_pass),
    ("ltp_interfaces_pthread_cond_broadcast_1_1", simple_pass),
    ("ltp_interfaces_pthread_cond_broadcast_2_1", simple_pass),
    ("ltp_interfaces_pthread_cond_broadcast_2_2", simple_pass),
    ("ltp_interfaces_pthread_cond_broadcast_4_1", simple_pass),
    ("ltp_interfaces_pthread_cond_broadcast_4_2", simple_pass),
    ("ltp_interfaces_pthread_cond_destroy_1_1", simple_pass),
    ("ltp_interfaces_pthread_cond_destroy_3_1", simple_pass),
    ("ltp_interfaces_pthread_cond_init_1_1", simple_pass),
    ("ltp_interfaces_pthread_cond_init_2_1", simple_pass),
    ("ltp_interfaces_pthread_cond_init_3_1", simple_pass),
    ("ltp_interfaces_pthread_cond_init_4_3", simple_pass),
    ("ltp_interfaces_pthread_cond_signal_1_1", simple_pass),
    ("ltp_interfaces_pthread_cond_signal_2_1", simple_pass),
    ("ltp_interfaces_pthread_cond_signal_2_2", simple_pass),
    ("ltp_interfaces_pthread_cond_signal_4_1", simple_pass),
    ("ltp_interfaces_pthread_cond_signal_4_2", simple_pass),
    ("ltp_interfaces_pthread_cond_timedwait_1_1", simple_pass),
    ("ltp_interfaces_pthread_cond_timedwait_2_1", simple_pass),
    ("ltp_interfaces_pthread_cond_timedwait_2_2", simple_pass),
    ("ltp_interfaces_pthread_cond_timedwait_2_3", simple_pass),
    ("ltp_interfaces_pthread_cond_timedwait_3_1", simple_pass),
    ("ltp_interfaces_pthread_cond_timedwait_4_1", simple_pass),
    ("ltp_interfaces_pthread_cond_timedwait_4_3", simple_pass),
    ("ltp_interfaces_pthread_cond_wait_1_1", simple_pass),
    ("ltp_interfaces_pthread_cond_wait_2_1", simple_pass),
    ("ltp_interfaces_pthread_cond_wait_3_1", simple_pass),
    ("ltp_interfaces_pthread_cond_wait_4_1", simple_pass),
    ("ltp_interfaces_pthread_create_1_1", simple_pass),
    ("ltp_interfaces_pthread_create_12_1", simple_pass),
    ("ltp_interfaces_pthread_create_1_2", simple_pass),
    ("ltp_interfaces_pthread_create_1_3", simple_pass),
    ("ltp_interfaces_pthread_create_2_1", simple_pass),
    ("ltp_interfaces_pthread_create_3_1", simple_pass),
    ("ltp_interfaces_pthread_create_4_1", simple_pass),
    ("ltp_interfaces_pthread_create_5_1", simple_pass),
    ("ltp_interfaces_pthread_create_8_1", simple_pass),
    ("ltp_interfaces_pthread_detach_1_1", simple_pass),
    ("ltp_interfaces_pthread_detach_2_1", simple_pass),
    ("ltp_interfaces_pthread_detach_3_1", simple_pass),
    ("ltp_interfaces_pthread_detach_4_1", simple_pass),
    ("ltp_interfaces_pthread_detach_4_2", simple_pass),
    ("ltp_interfaces_pthread_equal_1_1", simple_pass),
    ("ltp_interfaces_pthread_equal_1_2", simple_pass),
    ("ltp_interfaces_pthread_equal_2_1", simple_pass),
    ("ltp_interfaces_pthread_exit_1_1", simple_pass),
    ("ltp_interfaces_pthread_exit_2_1", simple_pass),
    ("ltp_interfaces_pthread_exit_3_1", simple_pass),
    ("ltp_interfaces_pthread_getschedparam_1_1", simple_pass),
    ("ltp_interfaces_pthread_getschedparam_1_2", simple_pass),
    ("ltp_interfaces_pthread_getschedparam_1_3", simple_pass),
    ("ltp_interfaces_pthread_getspecific_1_1", simple_pass),
    ("ltp_interfaces_pthread_getspecific_3_1", simple_pass),
    ("ltp_interfaces_pthread_join_1_1", simple_pass),
    ("ltp_interfaces_pthread_join_2_1", simple_pass),
    ("ltp_interfaces_pthread_join_3_1", simple_pass),
    ("ltp_interfaces_pthread_join_5_1", simple_pass),
    ("ltp_interfaces_pthread_join_6_2", simple_pass),
    ("ltp_interfaces_pthread_key_create_1_1", simple_pass),
    ("ltp_interfaces_pthread_key_create_1_2", simple_pass),
    ("ltp_interfaces_pthread_key_create_2_1", simple_pass),
    ("ltp_interfaces_pthread_key_create_3_1", simple_pass),
    ("ltp_interfaces_pthread_key_delete_1_1", simple_pass),
    ("ltp_interfaces_pthread_key_delete_1_2", simple_pass),
    ("ltp_interfaces_pthread_key_delete_2_1", simple_pass),
    ("ltp_interfaces_pthread_kill_1_2", simple_pass),
    ("ltp_interfaces_pthread_kill_2_1", simple_pass),
    ("ltp_interfaces_pthread_kill_3_1", simple_pass),
    ("ltp_interfaces_pthread_kill_6_1", simple_pass),
    ("ltp_interfaces_pthread_kill_7_1", simple_pass),
    ("ltp_interfaces_pthread_kill_8_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_destroy_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_destroy_2_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_destroy_3_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_destroy_4_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_getprotocol_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_getprotocol_1_2", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_getpshared_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_getpshared_1_2", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_getpshared_1_3", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_getpshared_3_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_gettype_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_gettype_1_2", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_gettype_1_3", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_gettype_1_4", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_gettype_1_5", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_init_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_init_3_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_setprotocol_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_setprotocol_3_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_setprotocol_3_2", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_setpshared_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_setpshared_1_2", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_setpshared_2_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_setpshared_2_2", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_setpshared_3_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_setpshared_3_2", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_settype_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_settype_2_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_settype_3_1", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_settype_3_2", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_settype_3_3", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_settype_3_4", simple_pass),
    ("ltp_interfaces_pthread_mutexattr_settype_7_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_destroy_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_destroy_2_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_destroy_2_2", simple_pass),
    ("ltp_interfaces_pthread_mutex_destroy_3_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_destroy_5_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_destroy_5_2", simple_pass),
    ("ltp_interfaces_pthread_mutex_init_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_init_1_2", simple_pass),
    ("ltp_interfaces_pthread_mutex_init_2_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_init_3_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_init_3_2", simple_pass),
    ("ltp_interfaces_pthread_mutex_init_4_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_lock_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_lock_2_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_lock_3_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_lock_4_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_lock_5_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_timedlock_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_timedlock_2_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_timedlock_4_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_timedlock_5_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_timedlock_5_2", simple_pass),
    ("ltp_interfaces_pthread_mutex_timedlock_5_3", simple_pass),
    ("ltp_interfaces_pthread_mutex_trylock_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_trylock_3_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_trylock_4_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_trylock_4_3", simple_pass),
    ("ltp_interfaces_pthread_mutex_unlock_1_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_unlock_2_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_unlock_3_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_unlock_5_1", simple_pass),
    ("ltp_interfaces_pthread_mutex_unlock_5_2", simple_pass),
    ("ltp_interfaces_pthread_once_1_1", simple_pass),
    ("ltp_interfaces_pthread_once_1_2", simple_pass),
    ("ltp_interfaces_pthread_once_1_3", simple_pass),
    ("ltp_interfaces_pthread_once_2_1", simple_pass),
    ("ltp_interfaces_pthread_once_3_1", simple_pass),
    ("ltp_interfaces_pthread_once_6_1", simple_pass),
    ("ltp_interfaces_pthread_rwlock_destroy_1_1", simple_pass),
    ("ltp_interfaces_pthread_rwlock_destroy_3_1", simple_pass),
    ("ltp_interfaces_pthread_rwlock_init_2_1", simple_pass),
    ("ltp_interfaces_pthread_rwlock_init_6_1", simple_pass),
    ("ltp_interfaces_pthread_rwlock_rdlock_4_1", simple_pass),
    ("ltp_interfaces_pthread_rwlock_timedrdlock_2_1", simple_pass),
    ("ltp_interfaces_pthread_rwlock_timedrdlock_6_1", simple_pass),
    ("ltp_interfaces_pthread_rwlock_timedrdlock_6_2", simple_pass),
    ("ltp_interfaces_pthread_rwlock_timedwrlock_6_1", simple_pass),
    ("ltp_interfaces_pthread_rwlock_timedwrlock_6_2", simple_pass),
    ("ltp_interfaces_pthread_rwlock_unlock_1_1", simple_pass),
    ("ltp_interfaces_pthread_rwlock_unlock_2_1", simple_pass),
    ("ltp_interfaces_pthread_rwlock_unlock_4_1", simple_pass),
    ("ltp_interfaces_pthread_rwlock_unlock_4_2", simple_pass),
    ("ltp_interfaces_pthread_rwlock_wrlock_2_1", simple_pass),
    ("ltp_interfaces_pthread_rwlock_wrlock_3_1", simple_pass),
    ("ltp_interfaces_pthread_self_1_1", simple_pass),
    ("ltp_interfaces_pthread_setcancelstate_1_1", simple_pass),
    ("ltp_interfaces_pthread_setcancelstate_1_2", simple_pass),
    ("ltp_interfaces_pthread_setcancelstate_2_1", simple_pass),
    ("ltp_interfaces_pthread_setcancelstate_3_1", simple_pass),
    ("ltp_interfaces_pthread_setcanceltype_1_1", simple_pass),
    ("ltp_interfaces_pthread_setcanceltype_1_2", simple_pass),
    ("ltp_interfaces_pthread_setcanceltype_2_1", simple_pass),
    ("ltp_interfaces_pthread_setschedparam_1_1", simple_pass),
    ("ltp_interfaces_pthread_setschedparam_1_2", simple_pass),
    ("ltp_interfaces_pthread_setschedparam_4_1", simple_pass),
    ("ltp_interfaces_pthread_setschedparam_5_1", simple_pass),
    ("ltp_interfaces_pthread_setschedprio_1_1", simple_pass),
    ("ltp_interfaces_pthread_setspecific_1_1", simple_pass),
    ("ltp_interfaces_pthread_setspecific_1_2", simple_pass),
    ("ltp_interfaces_pthread_sigmask_10_1", simple_pass),
    ("ltp_interfaces_pthread_spin_destroy_1_1", simple_pass),
    ("ltp_interfaces_pthread_spin_destroy_3_1", simple_pass),
    ("ltp_interfaces_pthread_spin_init_1_1", simple_pass),
    ("ltp_interfaces_pthread_spin_init_4_1", simple_pass),
    ("ltp_interfaces_pthread_spin_lock_1_1", simple_pass),
    ("ltp_interfaces_pthread_spin_lock_1_2", simple_pass),
    ("ltp_interfaces_pthread_spin_lock_3_1", simple_pass),
    ("ltp_interfaces_pthread_spin_lock_3_2", simple_pass),
    ("ltp_interfaces_pthread_spin_trylock_1_1", simple_pass),
    ("ltp_interfaces_pthread_spin_trylock_4_1", simple_pass),
    ("ltp_interfaces_pthread_spin_unlock_1_1", simple_pass),
    ("ltp_interfaces_pthread_spin_unlock_1_2", simple_pass),
    ("ltp_interfaces_pthread_spin_unlock_3_1", simple_pass),
    ("ltp_interfaces_pthread_testcancel_1_1", simple_pass),
    ("ltp_interfaces_pthread_testcancel_2_1", simple_pass),
    ("ltp_interfaces_raise_6_1", simple_pass),
    ("ltp_interfaces_raise_7_1", simple_pass),
    ("ltp_interfaces_sched_getparam_1_1", simple_pass),
    ("ltp_interfaces_sched_getparam_2_1", simple_pass),
    ("ltp_interfaces_sched_getparam_3_1", simple_pass),
    ("ltp_interfaces_sched_get_priority_max_1_1", simple_pass),
    ("ltp_interfaces_sched_get_priority_max_1_2", simple_pass),
    ("ltp_interfaces_sched_get_priority_max_1_3", simple_pass),
    ("ltp_interfaces_sched_get_priority_max_1_4", simple_pass),
    ("ltp_interfaces_sched_get_priority_max_2_1", simple_pass),
    ("ltp_interfaces_sched_get_priority_min_1_1", simple_pass),
    ("ltp_interfaces_sched_get_priority_min_1_2", simple_pass),
    ("ltp_interfaces_sched_get_priority_min_1_3", simple_pass),
    ("ltp_interfaces_sched_get_priority_min_1_4", simple_pass),
    ("ltp_interfaces_sched_get_priority_min_2_1", simple_pass),
    ("ltp_interfaces_sched_getscheduler_1_1", simple_pass),
    ("ltp_interfaces_sched_getscheduler_3_1", simple_pass),
    ("ltp_interfaces_sched_getscheduler_4_1", simple_pass),
    ("ltp_interfaces_sched_rr_get_interval_1_1", simple_pass),
    ("ltp_interfaces_sched_rr_get_interval_2_1", simple_pass),
    ("ltp_interfaces_sched_setparam_22_1", simple_pass),
    ("ltp_interfaces_sched_setparam_23_1", simple_pass),
    ("ltp_interfaces_sched_setparam_23_2", simple_pass),
    ("ltp_interfaces_sched_setparam_23_3", simple_pass),
    ("ltp_interfaces_sched_setparam_23_4", simple_pass),
    ("ltp_interfaces_sched_setparam_23_5", simple_pass),
    ("ltp_interfaces_sched_setparam_25_1", simple_pass),
    ("ltp_interfaces_sched_setparam_25_2", simple_pass),
    ("ltp_interfaces_sched_setparam_25_3", simple_pass),
    ("ltp_interfaces_sched_setparam_25_4", simple_pass),
    ("ltp_interfaces_sched_setparam_5_1", simple_pass),
    ("ltp_interfaces_sched_setscheduler_1_1", simple_pass),
    ("ltp_interfaces_sched_setscheduler_16_1", simple_pass),
    ("ltp_interfaces_sched_setscheduler_17_1", simple_pass),
    ("ltp_interfaces_sched_setscheduler_17_2", simple_pass),
    ("ltp_interfaces_sched_setscheduler_17_3", simple_pass),
    ("ltp_interfaces_sched_setscheduler_17_4", simple_pass),
    ("ltp_interfaces_sched_setscheduler_17_5", simple_pass),
    ("ltp_interfaces_sched_setscheduler_19_1", simple_pass),
    ("ltp_interfaces_sched_setscheduler_19_2", simple_pass),
    ("ltp_interfaces_sched_setscheduler_19_3", simple_pass),
    ("ltp_interfaces_sched_setscheduler_19_4", simple_pass),
    ("ltp_interfaces_sched_setscheduler_19_5", simple_pass),
    ("ltp_interfaces_sched_setscheduler_4_1", simple_pass),
    ("ltp_interfaces_sched_yield_2_1", simple_pass),
    ("ltp_interfaces_sem_close_1_1", simple_pass),
    ("ltp_interfaces_sem_close_2_1", simple_pass),
    ("ltp_interfaces_sem_close_3_1", simple_pass),
    ("ltp_interfaces_sem_close_3_2", simple_pass),
    ("ltp_interfaces_sem_destroy_3_1", simple_pass),
    ("ltp_interfaces_sem_destroy_4_1", simple_pass),
    ("ltp_interfaces_sem_getvalue_1_1", simple_pass),
    ("ltp_interfaces_sem_getvalue_2_1", simple_pass),
    ("ltp_interfaces_sem_getvalue_2_2", simple_pass),
    ("ltp_interfaces_sem_getvalue_4_1", simple_pass),
    ("ltp_interfaces_sem_getvalue_5_1", simple_pass),
    ("ltp_interfaces_sem_init_1_1", simple_pass),
    ("ltp_interfaces_sem_init_2_1", simple_pass),
    ("ltp_interfaces_sem_init_2_2", simple_pass),
    ("ltp_interfaces_sem_init_3_1", simple_pass),
    ("ltp_interfaces_sem_init_5_1", simple_pass),
    ("ltp_interfaces_sem_init_5_2", simple_pass),
    ("ltp_interfaces_sem_init_6_1", simple_pass),
    ("ltp_interfaces_sem_init_7_1", simple_pass),
    ("ltp_interfaces_sem_open_10_1", simple_pass),
    ("ltp_interfaces_sem_open_1_1", simple_pass),
    ("ltp_interfaces_sem_open_1_2", simple_pass),
    ("ltp_interfaces_sem_open_1_3", simple_pass),
    ("ltp_interfaces_sem_open_1_4", simple_pass),
    ("ltp_interfaces_sem_open_15_1", simple_pass),
    ("ltp_interfaces_sem_open_2_1", simple_pass),
    ("ltp_interfaces_sem_open_2_2", simple_pass),
    ("ltp_interfaces_sem_open_4_1", simple_pass),
    ("ltp_interfaces_sem_open_5_1", simple_pass),
    ("ltp_interfaces_sem_open_6_1", simple_pass),
    ("ltp_interfaces_sem_post_1_1", simple_pass),
    ("ltp_interfaces_sem_post_1_2", simple_pass),
    ("ltp_interfaces_sem_post_2_1", simple_pass),
    ("ltp_interfaces_sem_post_4_1", simple_pass),
    ("ltp_interfaces_sem_post_5_1", simple_pass),
    ("ltp_interfaces_sem_post_6_1", simple_pass),
    ("ltp_interfaces_sem_timedwait_10_1", simple_pass),
    ("ltp_interfaces_sem_timedwait_11_1", simple_pass),
    ("ltp_interfaces_sem_timedwait_1_1", simple_pass),
    ("ltp_interfaces_sem_timedwait_2_2", simple_pass),
    ("ltp_interfaces_sem_timedwait_3_1", simple_pass),
    ("ltp_interfaces_sem_timedwait_4_1", simple_pass),
    ("ltp_interfaces_sem_timedwait_6_1", simple_pass),
    ("ltp_interfaces_sem_timedwait_6_2", simple_pass),
    ("ltp_interfaces_sem_timedwait_7_1", simple_pass),
    ("ltp_interfaces_sem_unlink_1_1", simple_pass),
    ("ltp_interfaces_sem_unlink_2_1", simple_pass),
    ("ltp_interfaces_sem_unlink_4_1", simple_pass),
    ("ltp_interfaces_sem_unlink_4_2", simple_pass),
    ("ltp_interfaces_sem_unlink_5_1", simple_pass),
    ("ltp_interfaces_sem_unlink_6_1", simple_pass),
    ("ltp_interfaces_sem_unlink_7_1", simple_pass),
    ("ltp_interfaces_sem_unlink_9_1", simple_pass),
    ("ltp_interfaces_sem_wait_11_1", simple_pass),
    ("ltp_interfaces_sem_wait_1_1", simple_pass),
    ("ltp_interfaces_sem_wait_12_1", simple_pass),
    ("ltp_interfaces_sem_wait_1_2", simple_pass),
    ("ltp_interfaces_sem_wait_13_1", simple_pass),
    ("ltp_interfaces_sem_wait_3_1", simple_pass),
    ("ltp_interfaces_sem_wait_5_1", simple_pass),
    ("ltp_interfaces_shm_open_11_1", simple_pass),
    ("ltp_interfaces_shm_open_1_1", simple_pass),
    ("ltp_interfaces_shm_open_13_1", simple_pass),
    ("ltp_interfaces_shm_open_14_2", simple_pass),
    ("ltp_interfaces_shm_open_15_1", simple_pass),
    ("ltp_interfaces_shm_open_16_1", simple_pass),
    ("ltp_interfaces_shm_open_17_1", simple_pass),
    ("ltp_interfaces_shm_open_18_1", simple_pass),
    ("ltp_interfaces_shm_open_20_1", simple_pass),
    ("ltp_interfaces_shm_open_20_2", simple_pass),
    ("ltp_interfaces_shm_open_20_3", simple_pass),
    ("ltp_interfaces_shm_open_21_1", simple_pass),
    ("ltp_interfaces_shm_open_22_1", simple_pass),
    ("ltp_interfaces_shm_open_25_1", simple_pass),
    ("ltp_interfaces_shm_open_26_1", simple_pass),
    ("ltp_interfaces_shm_open_28_1", simple_pass),
    ("ltp_interfaces_shm_open_28_2", simple_pass),
    ("ltp_interfaces_shm_open_28_3", simple_pass),
    ("ltp_interfaces_shm_open_37_1", simple_pass),
    ("ltp_interfaces_shm_open_38_1", simple_pass),
    ("ltp_interfaces_shm_open_39_1", simple_pass),
    ("ltp_interfaces_shm_open_39_2", simple_pass),
    ("ltp_interfaces_shm_open_41_1", simple_pass),
    ("ltp_interfaces_shm_open_8_1", simple_pass),
    ("ltp_interfaces_shm_unlink_10_1", simple_pass),
    ("ltp_interfaces_shm_unlink_10_2", simple_pass),
    ("ltp_interfaces_shm_unlink_11_1", simple_pass),
    ("ltp_interfaces_shm_unlink_1_1", simple_pass),
    ("ltp_interfaces_shm_unlink_2_1", simple_pass),
    ("ltp_interfaces_shm_unlink_3_1", simple_pass),
    ("ltp_interfaces_shm_unlink_5_1", simple_pass),
    ("ltp_interfaces_shm_unlink_6_1", simple_pass),
    ("ltp_interfaces_sigaction_1_10", simple_pass),
    ("ltp_interfaces_sigaction_1_11", simple_pass),
    ("ltp_interfaces_sigaction_1_13", simple_pass),
    ("ltp_interfaces_sigaction_1_17", simple_pass),
    ("ltp_interfaces_sigaction_1_18", simple_pass),
    ("ltp_interfaces_sigaction_1_19", simple_pass),
    ("ltp_interfaces_sigaction_1_2", simple_pass),
    ("ltp_interfaces_sigaction_1_4", simple_pass),
    ("ltp_interfaces_sigaction_1_5", simple_pass),
    ("ltp_interfaces_sigaction_18_10", simple_pass),
    ("ltp_interfaces_sigaction_18_11", simple_pass),
    ("ltp_interfaces_sigaction_18_13", simple_pass),
    ("ltp_interfaces_sigaction_18_17", simple_pass),
    ("ltp_interfaces_sigaction_18_18", simple_pass),
    ("ltp_interfaces_sigaction_18_2", simple_pass),
    ("ltp_interfaces_sigaction_18_4", simple_pass),
    ("ltp_interfaces_sigaction_18_5", simple_pass),
    ("ltp_interfaces_sigaction_18_9", simple_pass),
    ("ltp_interfaces_sigaction_19_10", simple_pass),
    ("ltp_interfaces_sigaction_19_11", simple_pass),
    ("ltp_interfaces_sigaction_19_13", simple_pass),
    ("ltp_interfaces_sigaction_19_17", simple_pass),
    ("ltp_interfaces_sigaction_19_18", simple_pass),
    ("ltp_interfaces_sigaction_19_2", simple_pass),
    ("ltp_interfaces_sigaction_19_4", simple_pass),
    ("ltp_interfaces_sigaction_19_5", simple_pass),
    ("ltp_interfaces_sigaction_19_9", simple_pass),
    ("ltp_interfaces_sigaction_1_9", simple_pass),
    ("ltp_interfaces_sigaction_2_10", simple_pass),
    ("ltp_interfaces_sigaction_2_11", simple_pass),
    ("ltp_interfaces_sigaction_2_13", simple_pass),
    ("ltp_interfaces_sigaction_2_17", simple_pass),
    ("ltp_interfaces_sigaction_2_18", simple_pass),
    ("ltp_interfaces_sigaction_2_19", simple_pass),
    ("ltp_interfaces_sigaction_2_2", simple_pass),
    ("ltp_interfaces_sigaction_23_10", simple_pass),
    ("ltp_interfaces_sigaction_23_11", simple_pass),
    ("ltp_interfaces_sigaction_23_13", simple_pass),
    ("ltp_interfaces_sigaction_23_17", simple_pass),
    ("ltp_interfaces_sigaction_23_18", simple_pass),
    ("ltp_interfaces_sigaction_23_19", simple_pass),
    ("ltp_interfaces_sigaction_23_2", simple_pass),
    ("ltp_interfaces_sigaction_23_4", simple_pass),
    ("ltp_interfaces_sigaction_23_5", simple_pass),
    ("ltp_interfaces_sigaction_23_9", simple_pass),
    ("ltp_interfaces_sigaction_2_4", simple_pass),
    ("ltp_interfaces_sigaction_2_5", simple_pass),
    ("ltp_interfaces_sigaction_28_10", simple_pass),
    ("ltp_interfaces_sigaction_28_11", simple_pass),
    ("ltp_interfaces_sigaction_28_13", simple_pass),
    ("ltp_interfaces_sigaction_28_17", simple_pass),
    ("ltp_interfaces_sigaction_28_18", simple_pass),
    ("ltp_interfaces_sigaction_28_2", simple_pass),
    ("ltp_interfaces_sigaction_28_4", simple_pass),
    ("ltp_interfaces_sigaction_28_5", simple_pass),
    ("ltp_interfaces_sigaction_28_9", simple_pass),
    ("ltp_interfaces_sigaction_29_1", simple_pass),
    ("ltp_interfaces_sigaction_2_9", simple_pass),
    ("ltp_interfaces_sigaction_30_1", simple_pass),
    ("ltp_interfaces_sigaction_3_10", simple_pass),
    ("ltp_interfaces_sigaction_3_11", simple_pass),
    ("ltp_interfaces_sigaction_3_13", simple_pass),
    ("ltp_interfaces_sigaction_3_17", simple_pass),
    ("ltp_interfaces_sigaction_3_18", simple_pass),
    ("ltp_interfaces_sigaction_3_19", simple_pass),
    ("ltp_interfaces_sigaction_3_2", simple_pass),
    ("ltp_interfaces_sigaction_3_4", simple_pass),
    ("ltp_interfaces_sigaction_3_5", simple_pass),
    ("ltp_interfaces_sigaction_3_9", simple_pass),
    ("ltp_interfaces_sigaction_4_54", simple_pass),
    ("ltp_interfaces_sigaction_4_56", simple_pass),
    ("ltp_interfaces_sigaction_4_57", simple_pass),
    ("ltp_interfaces_sigaction_4_61", simple_pass),
    ("ltp_interfaces_sigaction_4_62", simple_pass),
    ("ltp_interfaces_sigaction_4_63", simple_pass),
    ("ltp_interfaces_sigaction_4_65", simple_pass),
    ("ltp_interfaces_sigaction_4_69", simple_pass),
    ("ltp_interfaces_sigaction_4_70", simple_pass),
    ("ltp_interfaces_sigaction_4_71", simple_pass),
    ("ltp_interfaces_sigaction_4_80", simple_pass),
    ("ltp_interfaces_sigaction_4_82", simple_pass),
    ("ltp_interfaces_sigaction_4_83", simple_pass),
    ("ltp_interfaces_sigaction_4_87", simple_pass),
    ("ltp_interfaces_sigaction_4_88", simple_pass),
    ("ltp_interfaces_sigaction_4_89", simple_pass),
    ("ltp_interfaces_sigaction_4_91", simple_pass),
    ("ltp_interfaces_sigaction_4_95", simple_pass),
    ("ltp_interfaces_sigaction_4_96", simple_pass),
    ("ltp_interfaces_sigaction_4_97", simple_pass),
    ("ltp_interfaces_sigaction_6_10", simple_pass),
    ("ltp_interfaces_sigaction_6_11", simple_pass),
    ("ltp_interfaces_sigaction_6_13", simple_pass),
    ("ltp_interfaces_sigaction_6_17", simple_pass),
    ("ltp_interfaces_sigaction_6_18", simple_pass),
    ("ltp_interfaces_sigaction_6_19", simple_pass),
    ("ltp_interfaces_sigaction_6_2", simple_pass),
    ("ltp_interfaces_sigaction_6_4", simple_pass),
    ("ltp_interfaces_sigaction_6_5", simple_pass),
    ("ltp_interfaces_sigaction_6_9", simple_pass),
    ("ltp_interfaces_sigaction_8_10", simple_pass),
    ("ltp_interfaces_sigaction_8_11", simple_pass),
    ("ltp_interfaces_sigaction_8_18", simple_pass),
    ("ltp_interfaces_sigaction_8_19", simple_pass),
    ("ltp_interfaces_sigaction_8_5", simple_pass),
    ("ltp_interfaces_sigaddset_1_1", simple_pass),
    ("ltp_interfaces_sigaddset_1_2", simple_pass),
    ("ltp_interfaces_sigaddset_2_1", simple_pass),
    ("ltp_interfaces_sigaddset_4_1", simple_pass),
    ("ltp_interfaces_sigdelset_1_1", simple_pass),
    ("ltp_interfaces_sigdelset_1_2", simple_pass),
    ("ltp_interfaces_sigdelset_1_3", simple_pass),
    ("ltp_interfaces_sigdelset_1_4", simple_pass),
    ("ltp_interfaces_sigdelset_4_1", simple_pass),
    ("ltp_interfaces_sigemptyset_2_1", simple_pass),
    ("ltp_interfaces_sigfillset_2_1", simple_pass),
    ("ltp_interfaces_sighold_3_1", simple_pass),
    ("ltp_interfaces_sigignore_5_1", simple_pass),
    ("ltp_interfaces_sigignore_6_1", simple_pass),
    ("ltp_interfaces_sigignore_6_2", simple_pass),
    ("ltp_interfaces_sigismember_5_1", simple_pass),
    ("ltp_interfaces_signal_1_1", simple_pass),
    ("ltp_interfaces_signal_2_1", simple_pass),
    ("ltp_interfaces_signal_3_1", simple_pass),
    ("ltp_interfaces_signal_5_1", simple_pass),
    ("ltp_interfaces_signal_6_1", simple_pass),
    ("ltp_interfaces_signal_7_1", simple_pass),
    ("ltp_interfaces_sigpending_2_1", simple_pass),
    ("ltp_interfaces_sigprocmask_10_1", simple_pass),
    ("ltp_interfaces_sigqueue_10_1", simple_pass),
    ("ltp_interfaces_sigqueue_11_1", simple_pass),
    ("ltp_interfaces_sigqueue_2_1", simple_pass),
    ("ltp_interfaces_sigqueue_2_2", simple_pass),
    ("ltp_interfaces_sigqueue_4_1", simple_pass),
    ("ltp_interfaces_sigqueue_5_1", simple_pass),
    ("ltp_interfaces_sigqueue_6_1", simple_pass),
    ("ltp_interfaces_sigqueue_7_1", simple_pass),
    ("ltp_interfaces_sigqueue_8_1", simple_pass),
    ("ltp_interfaces_sigqueue_9_1", simple_pass),
    ("ltp_interfaces_sigrelse_3_1", simple_pass),
    ("ltp_interfaces_sigset_10_1", simple_pass),
    ("ltp_interfaces_sigset_1_1", simple_pass),
    ("ltp_interfaces_sigset_2_1", simple_pass),
    ("ltp_interfaces_sigset_3_1", simple_pass),
    ("ltp_interfaces_sigset_4_1", simple_pass),
    ("ltp_interfaces_sigset_6_1", simple_pass),
    ("ltp_interfaces_sigset_7_1", simple_pass),
    ("ltp_interfaces_sigset_8_1", simple_pass),
    ("ltp_interfaces_sigset_9_1", simple_pass),
    ("ltp_interfaces_sigtimedwait_1_1", simple_pass),
    ("ltp_interfaces_sigtimedwait_2_1", simple_pass),
    ("ltp_interfaces_sigtimedwait_4_1", simple_pass),
    ("ltp_interfaces_sigtimedwait_5_1", simple_pass),
    ("ltp_interfaces_sigtimedwait_6_1", simple_pass),
    ("ltp_interfaces_sigwait_1_1", simple_pass),
    ("ltp_interfaces_sigwait_2_1", simple_pass),
    ("ltp_interfaces_sigwait_3_1", simple_pass),
    ("ltp_interfaces_sigwait_4_1", simple_pass),
    ("ltp_interfaces_sigwait_6_1", simple_pass),
    ("ltp_interfaces_sigwait_6_2", simple_pass),
    ("ltp_interfaces_sigwait_7_1", simple_pass),
    ("ltp_interfaces_sigwait_8_1", simple_pass),
    ("ltp_interfaces_sigwaitinfo_1_1", simple_pass),
    ("ltp_interfaces_sigwaitinfo_2_1", simple_pass),
    ("ltp_interfaces_sigwaitinfo_5_1", simple_pass),
    ("ltp_interfaces_sigwaitinfo_6_1", simple_pass),
    ("ltp_interfaces_sigwaitinfo_7_1", simple_pass),
    ("ltp_interfaces_sigwaitinfo_8_1", simple_pass),
    ("ltp_interfaces_sigwaitinfo_9_1", simple_pass),
    ("ltp_interfaces_strchr_1_1", simple_pass),
    ("ltp_interfaces_strcpy_1_1", simple_pass),
    ("ltp_interfaces_strftime_3_1", simple_pass),
    ("ltp_interfaces_strlen_1_1", simple_pass),
    ("ltp_interfaces_strncpy_1_1", simple_pass),
    ("ltp_interfaces_strncpy_2_1", simple_pass),
    ("ltp_interfaces_time_1_1", simple_pass),
    ("ltp_interfaces_timer_create_1_1", simple_pass),
    ("ltp_interfaces_timer_create_16_1", simple_pass),
    ("ltp_interfaces_timer_create_3_1", simple_pass),
    ("ltp_interfaces_timer_create_7_1", simple_pass),
    ("ltp_interfaces_timer_create_9_1", simple_pass),
    ("ltp_interfaces_timer_delete_1_1", simple_pass),
    ("ltp_interfaces_timer_delete_1_2", simple_pass),
    ("ltp_interfaces_timer_getoverrun_1_1", simple_pass),
    ("ltp_interfaces_timer_getoverrun_2_1", simple_pass),
    ("ltp_interfaces_timer_getoverrun_2_2", simple_pass),
    ("ltp_interfaces_timer_getoverrun_2_3", simple_pass),
    ("ltp_interfaces_timer_gettime_1_1", simple_pass),
    ("ltp_interfaces_timer_gettime_1_2", simple_pass),
    ("ltp_interfaces_timer_gettime_1_3", simple_pass),
    ("ltp_interfaces_timer_gettime_1_4", simple_pass),
    ("ltp_interfaces_timer_gettime_2_1", simple_pass),
    ("ltp_interfaces_timer_gettime_2_2", simple_pass),
    ("ltp_interfaces_timer_gettime_3_1", simple_pass),
    ("ltp_interfaces_timer_settime_1_1", simple_pass),
    ("ltp_interfaces_timer_settime_1_2", simple_pass),
    ("ltp_interfaces_timer_settime_13_1", simple_pass),
    ("ltp_interfaces_timer_settime_2_1", simple_pass),
    ("ltp_interfaces_timer_settime_3_1", simple_pass),
    ("ltp_interfaces_timer_settime_3_2", simple_pass),
    ("ltp_interfaces_timer_settime_3_3", simple_pass),
    ("ltp_interfaces_timer_settime_5_1", simple_pass),
    ("ltp_interfaces_timer_settime_5_2", simple_pass),
    ("ltp_interfaces_timer_settime_5_3", simple_pass),
    ("ltp_interfaces_timer_settime_6_1", simple_pass),
    ("ltp_interfaces_timer_settime_8_1", simple_pass),
    ("ltp_interfaces_timer_settime_8_2", simple_pass),
    ("ltp_interfaces_timer_settime_8_3", simple_pass),
    ("ltp_interfaces_timer_settime_8_4", simple_pass),
    ("ltp_interfaces_timer_settime_9_1", simple_pass),
    ("ltp_interfaces_timer_settime_9_2", simple_pass),
    ("ltp_mq_getattr_speculative_7_1", simple_pass),
    ("ltp_mq_open_speculative_2_2", simple_pass),
    ("ltp_mq_open_speculative_2_3", simple_pass),
    ("ltp_mq_open_speculative_26_1", simple_pass),
    ("ltp_mq_open_speculative_6_1", simple_pass),
    ("ltp_mq_timedreceive_speculative_10_2", simple_pass),
    ("ltp_mq_timedsend_speculative_18_2", simple_pass),
    ("ltp_mq_unlink_speculative_7_2", simple_pass),
    ("ltp_pthread_attr_setschedparam_speculative_3_1", simple_pass),
    ("ltp_pthread_attr_setschedparam_speculative_3_2", simple_pass),
    ("ltp_pthread_cond_destroy_speculative_4_1", simple_pass),
    ("ltp_pthread_join_speculative_6_1", simple_pass),
    ("ltp_pthread_key_create_speculative_5_1", simple_pass),
    ("ltp_pthread_mutexattr_gettype_speculative_3_1", simple_pass),
    ("ltp_pthread_mutex_destroy_speculative_4_2", simple_pass),
    ("ltp_pthread_mutex_init_speculative_5_2", simple_pass),
    ("ltp_pthread_rwlock_trywrlock_speculative_3_1", simple_pass),
    ("ltp_sched_getparam_speculative_7_1", simple_pass),
    ("ltp_sched_rr_get_interval_speculative_5_1", simple_pass),
    ("ltp_stress_mqueues_multi_send_rev_1", simple_pass),
    ("ltp_stress_mqueues_multi_send_rev_2", simple_pass),
    ("ltp_stress_semaphores_multi_con_pro", simple_pass),
    ("ltp_stress_signals_sigismember_stress_1", simple_pass),
    ("ltp_threads_pthread_cancel_stress", simple_pass),
    ("ltp_threads_pthread_getschedparam_stress", simple_pass),
    ("ltp_threads_pthread_mutex_init_s_c", simple_pass),
    ("ltp_threads_pthread_mutex_init_stress", simple_pass),
    ("ltp_threads_pthread_mutex_lock_s_c1", simple_pass),
    ("ltp_threads_pthread_mutex_lock_s_c2", simple_pass),
    ("ltp_threads_pthread_mutex_lock_stress", simple_pass),
    ("ltp_threads_pthread_mutex_trylock_stress", simple_pass),
    ("ltp_threads_pthread_once_stress", simple_pass),
    ("ltp_threads_sem_getvalue_stress", simple_pass),
    ("ltp_threads_sem_init_s_c1", simple_pass),
    ("ltp_threads_sem_open_s_c1", simple_pass),
    ("ltp_timer_create_speculative_15_1", simple_pass),
    ("ltp_timer_create_speculative_2_1", simple_pass),
    ("ltp_timer_create_speculative_5_1", simple_pass),
    ("ltp_timer_delete_speculative_5_1", simple_pass),
    ("ltp_timer_delete_speculative_5_2", simple_pass),
    ("ltp_timer_getoverrun_speculative_6_1", simple_pass),
    ("ltp_timer_getoverrun_speculative_6_2", simple_pass),
    ("ltp_timer_getoverrun_speculative_6_3", simple_pass),
    ("ltp_timer_gettime_speculative_6_1", simple_pass),
    ("ltp_timer_gettime_speculative_6_2", simple_pass),
    ("ltp_timer_gettime_speculative_6_3", simple_pass),
    ("ltp_timers_clocks_invaliddates", simple_pass),
    ("ltp_timer_settime_speculative_12_1", simple_pass),
    ("ltp_timer_settime_speculative_12_2", simple_pass),
    ("ltp_timer_settime_speculative_12_3", simple_pass),
]

return_codes = {
    0: "PTS_PASS",
    1: "PTS_FAIL",
    2: "PTS_UNRESOLVED",
    4: "PTS_UNSUPPORTED",
    5: "PTS_UNTESTED",
}

try:
    ConsoleLoggingReporter.start(".")
except AssertionError:
    pass
# logging.getLogger().setLevel(logging.DEBUG)


@pytest.fixture(scope="function")
def target():
    return Environment(
        os.path.join(os.path.dirname(__file__), "config.yaml")
    ).get_target("sim-ltp")


@pytest.fixture(scope="function")
def strategy(target):
    return target.get_driver(NSHStrategy)


@pytest.fixture
def shell_command(target, strategy):
    strategy.transition("shell")
    shell = target.get_active_driver(CommandProtocol)
    yield shell
    sim = target.get_active_driver(SimConsoleDriver)
    sim.close()


def test_echo(shell_command):
    result = shell_command.run_check("echo OK")
    assert "OK" in result


def test_version(shell_command):
    result = shell_command.run_check("cat /proc/version")
    assert re.match(r"NuttX version \d+\.\d+\.\d+.*", result[0])


@pytest.mark.parametrize("test_name,pass_regex", ltp_testdata)
def test_ltp(shell_command, target, test_name, pass_regex):
    try:
        results = shell_command.run(test_name, timeout=60)
    except ExecutionError:
        raise Exception("Simulation was killed")

    assert results is not None, "Test killed simulation"
    assert results[0] is not None, "Test returned nothing"
    if "Does not support SS (SPORADIC SERVER)" in results[0]:
        pytest.skip("unsupported configuration (SPORADIC SERVER)")
    if "_POSIX_SEMAPHORES is not defined" in results[0]:
        pytest.skip("unsupported configuration (_POSIX_SEMAPHORES not defined)")

    if results[2] == -1:
        # We could not get the return code to try to pattern match
        assert any(
            re.match(pass_regex, result) for result in results[0]
        ), "Test output: {}".format("\\n".join(results[0]))

    elif results[2] != 0:
        output_msg = "\\n".join(results[0])
        raise Exception(
            f"Test error code {results[2]} ({return_codes[results[2]]}). Test output: {output_msg}"
        )
